{% extends "base.html" %}
{% block content %}

<div class="min-h-screen">

    <div class="max-w-7xl mx-auto px-4 flex flex-col lg:flex-row gap-8">
        <!-- Columna principal - Posts -->
        <div class="lg:w-3/4 p-5 rounded-xl " style="background-color: var(--color-background);">
            <div class="flex items-center gap-3 mb-1">
                <h1 class="text-3xs font-bold mb-1" style="color: var(--color-text);">Ultimos blogs</h1>
                <a class="btn bg-surface mb-1"  hx-boost="true" href="{% url 'create_blog' %}" >Crea tu blog!</a>
            </div>

            {% for post in posts %}
            <!-- Post -->
                {% include 'a_blog/partials/post.html' %}
            {% endfor %}
        </div>

        <!-- Sidebar -->
        <div class="lg:w-1/4">
            <!-- Recent posts -->
            <div class="rounded-xl p-6 mb-8 border"
                style="background-color: var(--color-surface); border-color: var(--color-border); box-shadow: var(--comment-shadow);">
                <h2 class="text-xl font-bold mb-6 pb-2 border-b"
                    style="color: var(--color-text); border-color: var(--color-border);">Post Recientes</h2>
                {% for post in posts %}
                <div class="space-y-5">
                    <div class="pb-3 border-b last:border-0"
                        style="border-color: color-mix(in srgb, var(--color-border) 50%, transparent);">
                        <h3 onclick="window.location.href='{% url 'blog_detail' post.slug %}'" class="font-medium cursor-pointer hover:opacity-80" style="color: var(--color-text);">{{post.title}}</h3>
                        <div class="flex items-center  gap-2">                         
                            <p class="text-sm mt-1" style="color: var(--color-muted);">{{post.created_at|timesince}}</p>
                            <p class="text-sm mt-1" style="color: var(--color-muted);">{{post.author}}</p>
                        </div>
                    </div>
                </div>
                {% endfor %}

            </div>

            <!-- Tags -->
            <div class="rounded-xl p-6 border"
                style="background-color: var(--color-surface); border-color: var(--color-border); box-shadow: var(--comment-shadow);">
                <h3 class="text-xl font-bold mb-6 pb-2 border-b"
                    style="color: var(--color-text); border-color: var(--color-border);">Tags</h3>
                <div class="flex flex-wrap gap-2">
                        {% for tag in tags %}
                        <span class="px-3 py-1.5 text-sm font-medium rounded-full"
                              style="background-color: color-mix(in srgb, {{ tag.color }} 10%, transparent); 
                                     color: {{ tag.color }}; 
                                     border: 1px solid color-mix(in srgb, {{ tag.color }} 20%, transparent);">
                            {{ tag.name }}
                        </span>
                        {% endfor %}
                </div>
            </div>

        </div>
    </div>
    <div class="mt-12">
        {% include 'includes/paginator.html' %}
    </div>
</div>

{% endblock content %}